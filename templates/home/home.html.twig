{% extends 'base.html.twig' %}

{% block title %}Accueil | Sortir{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/home.css') }}">
{% endblock %}

{% block body %}
    <!-- HERO SECTION -->
    <section class="hero-banner text-white d-flex align-items-center justify-content-center position-relative">
        <div class="overlay"></div>
        <div class="container text-center position-relative z-2">
            <h1 class="fw-bold display-5 mb-3">MonApp, vos sorties et évènements à suivre !</h1>
            <p class="lead mb-4 opacity-75">Découvrez les meilleures sorties, participez aux événements et rejoignez la communauté</p>

            <!-- Barre de recherche -->
            <form class="search-bar d-flex justify-content-center mx-auto">
                <input type="text" class="form-control rounded-start-pill" placeholder="Que cherchez-vous ?">
                <button class="btn btn-accent rounded-end-pill px-4 fw-semibold">Rechercher</button>
            </form>

            <!-- Liens rapides -->
            <div class="quick-links d-flex justify-content-center flex-wrap gap-4 mt-5">
                <a href="#" class="quick-link">
                    <div class="icon-circle"><img src="{{ asset('icons/calendar.png') }}" alt="Agenda"></div>
                    <span>Événements</span>
                </a>
                <a href="#" class="quick-link">
                    <div class="icon-circle"><img src="{{ asset('icons/movie.png') }}" alt="Séries"></div>
                    <span>Sorties</span>
                </a>
                <a href="#" class="quick-link">
                    <div class="icon-circle"><img src="{{ asset('icons/community.png') }}" alt="Communauté"></div>
                    <span>Communauté</span>
                </a>
                <a href="#" class="quick-link">
                    <div class="icon-circle"><img src="{{ asset('icons/support.png') }}" alt="Aide"></div>
                    <span>Assistance</span>
                </a>
            </div>
        </div>
    </section>

    <!-- SECTION SORTIES / CONTENU -->
    <section class="container my-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="fw-bold text-dark">Sorties à venir</h2>
            <a href="#" class="btn btn-accent fw-semibold rounded-pill">Créer une sortie</a>
        </div>

        <div class="table-responsive shadow-sm rounded-4 overflow-hidden">
            <table class="table table-hover align-middle mb-0">
                <thead class="table-accent text-white text-center">
                <tr>
                    <th>Nom</th>
                    <th>Date</th>
                    <th>Clôture</th>
                    <th>Inscrits / Places</th>
                    <th>État</th>
                    <th>Inscrit</th>
                    <th>Organisateur</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody class="text-center">
                {% for sortie in sorties %}
                    <tr>
                        <td>{{ sortie.nom }}</td>
                        <td>{{ sortie.dateHeureDebut ? sortie.dateHeureDebut|date('d/m/Y H:i') : '-' }}</td>
                        <td>{{ sortie.dateLimiteInscription|date('d/m/Y') }}</td>
                        <td>0 / {{ sortie.nbInscriptionMax }}</td>
                        <td>{{ sortie.etat }}</td>
                        <td>Non</td>
                        <td>Admin</td>
                        <td>
                            <a href="#" class="btn btn-sm btn-outline-accent rounded-pill px-3">Voir</a>
                        </td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="8" class="text-muted py-4">Aucune sortie trouvée.</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </section>

    <footer class="text-center text-muted py-4 border-top">
        <small>&copy; {{ "now"|date("Y") }} SeriesTime — Tous droits réservés.</small>
    </footer>
{% endblock %}
