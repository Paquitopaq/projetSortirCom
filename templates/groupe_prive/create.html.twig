{% extends 'base.html.twig' %}

{% block title %}{{ groupe.id ? 'Modifier le groupe' : 'Créer un groupe' }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/group-edit.css') }}">
{% endblock %}

{% block body %}
    <section class="create-section">
        <div class="create-header">
            <h1 class="create-title">
                <i class="fas fa-{{ groupe.id ? 'edit' : 'plus-circle' }}"></i>
                {{ groupe.id ? 'Modifier le groupe' : 'Créer un groupe' }}
            </h1>
            <p class="create-subtitle">
                {{ groupe.id ? 'Modifiez les informations de votre groupe' : 'Créez un nouveau groupe pour votre crew' }}
            </p>
        </div>

        <div class="form-card">
            {% for flash in app.flashes('success') %}
                <div class="alert alert-success">{{ flash }}</div>
            {% endfor %}

            {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

            <div class="form-section">
                <div class="form-section-title">
                    <i class="fas fa-info-circle"></i> Informations du groupe
                </div>

                <div class="form-group">
                    {{ form_label(form.nomGroupe, 'Nom du groupe', {'label_attr': {'class': 'form-label required'}}) }}
                    {{ form_widget(form.nomGroupe, {'attr': {'class': 'form-control', 'placeholder': 'Ex: Les aventuriers'}}) }}
                    {{ form_errors(form.nomGroupe) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.membres, 'Membres', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.membres, {'attr': {'class': 'form-control'}}) }}
                    {{ form_errors(form.membres) }}
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-success">
                    <i class="fas fa-save"></i> {{ groupe.id ? 'Mettre à jour le groupe' : 'Créer le groupe' }}
                </button>
                <a href="{{ path('groupe_index') }}" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i> Retour à la liste
                </a>
            </div>

            {{ form_end(form) }}
        </div>
    </section>
{% endblock %}
