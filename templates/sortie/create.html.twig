{% extends 'base.html.twig' %}

{% block title %}Créer une Sortie{% endblock %}

{% block body %}
    <div class="page-wrapper">
        <div class="form-wrapper">
            <div class="form-header text-center">
                <h1>Créer une Sortie</h1>
                <p>Remplissez les informations ci-dessous pour planifier votre évènement.</p>
            </div>

            {{ form_start(form) }}
            <div class="form-horizontal">
                <div class="form-left">
                    <div class="form-group">
                        {{ form_label(form.nom, 'Nom de la sortie', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.nom, {'attr': {'class': 'form-control', 'placeholder': 'Ex: Soirée cinéma'}}) }}
                    </div>

                    <div class="form-group">
                        {{ form_label(form.dateHeureDebut, 'Date et heure de début', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.dateHeureDebut, {'attr': {'class': 'form-control datepicker'}}) }}
                    </div>

                    <div class="form-group">
                        {{ form_label(form.dateLimiteInscription, 'Date limite d’inscription', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.dateLimiteInscription, {'attr': {'class': 'form-control datepicker'}}) }}
                    </div>

                    <div class="form-group">
                        {{ form_label(form.duree, 'Durée (en minutes)', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.duree, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 120'}}) }}
                    </div>
                </div>

                <div class="form-right">
                    <div class="form-group">
                        {{ form_label(form.nbInscriptionMax, 'Nombre maximum de participants', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.nbInscriptionMax, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 20'}}) }}
                    </div>

                    <div class="form-group full-width">
                        {{ form_label(form.infoSortie, 'Informations complémentaires', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.infoSortie, {'attr': {'class': 'form-control', 'rows': 4, 'placeholder': 'Détails sur le lieu, le matériel, etc.'}}) }}
                    </div>
                </div>
            </div>

            <div class="form-footer">
                <a href="{{ path('app_sortie') }}" class="btn btn-secondary">← Retour</a>
                <div class="actions">
                    <button type="submit" name="action" value="publier" class="btn btn-primary">Publier</button>
                </div>
            </div>

            {{ form_end(form) }}
        </div>
    </div>

    {% block stylesheets %}
        {{ parent() }}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        <style>
            :root {
                --bg-dark: #393E46;
                --bg-overlay: rgba(34, 40, 49, 0.8);
                --accent: #00ADB5;
                --accent-hover: #009ca5;
                --text-light: #fff;
            }

            body, html {
                height: 100%;
                margin: 0;
                font-family: "Inter", sans-serif;
                background-color: var(--bg-dark);
                color: var(--text-light);
            }

            .page-wrapper {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100%;
                padding: 2rem;
                background: var(--bg-dark);
            }

            .form-wrapper {
                background-color: var(--bg-overlay);
                border: 2px solid var(--accent);
                box-shadow: 0 10px 25px rgba(0, 173, 181, 0.3);
                border-radius: 20px;
                padding: 3rem 3.5rem;
                max-width: 1000px;
                width: 100%;
            }

            .form-header h1 {
                color: var(--text-light);
                font-size: 1.8rem;
                font-weight: 700;
                margin-bottom: 0.5rem;
            }

            .form-header p {
                color: var(--text-light);
                font-size: 1rem;
                margin-bottom: 2rem;
            }

            .form-horizontal {
                display: flex;
                justify-content: space-between;
                gap: 2rem;
                flex-wrap: wrap;
            }

            .form-left, .form-right {
                flex: 1;
                min-width: 300px;
            }

            .form-group {
                margin-bottom: 1.5rem;
            }

            .form-label {
                font-weight: 500;
                color: var(--text-light);
                margin-bottom: 0.3rem;
                display: block;
            }

            .form-control {
                width: 100%;
                border: 2px solid var(--accent);
                border-radius: 10px;
                padding: 0.75rem 1rem;
                font-size: 0.95rem;
                color: var(--text-light);
                background-color: var(--bg-dark);
                transition: all 0.3s ease;
            }

            .form-control:focus {
                border-color: var(--accent-hover);
                box-shadow: 0 0 0 3px rgba(0, 173, 181, 0.3);
                outline: none;
            }

            .form-footer {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-top: 2.5rem;
            }

            .actions {
                display: flex;
                gap: 0.75rem;
            }

            .btn {
                display: inline-block;
                border-radius: 8px;
                padding: 0.7rem 1.5rem;
                font-weight: 600;
                font-size: 0.95rem;
                text-decoration: none;
                transition: all 0.3s ease;
                cursor: pointer;
            }

            .btn-secondary {
                background-color: transparent;
                color: var(--accent);
                border: 2px solid var(--accent);
            }

            .btn-secondary:hover {
                background-color: var(--accent);
                color: var(--text-light);
            }

            .btn-outline {
                background-color: transparent;
                color: var(--accent-hover);
                border: 2px solid var(--accent-hover);
            }

            .btn-outline:hover {
                background-color: var(--accent-hover);
                color: var(--text-light);
            }

            .btn-primary {
                background-color: var(--accent);
                color: var(--text-light);
                border: 2px solid var(--accent);
            }

            .btn-primary:hover {
                background-color: var(--accent-hover);
                border-color: var(--accent-hover);
            }

            @media (max-width: 900px) {
                .form-horizontal {
                    flex-direction: column;
                }

                .form-footer {
                    flex-direction: column;
                    gap: 1rem;
                }
            }
        </style>
    {% endblock %}

    {% block javascripts %}
        {{ parent() }}
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                flatpickr(".datepicker", {
                    enableTime: true,
                    dateFormat: "Y-m-d H:i",
                    altInput: true,
                    altFormat: "d/m/Y à H:i",
                    time_24hr: true
                });
            });
        </script>
    {% endblock %}
{% endblock %}
