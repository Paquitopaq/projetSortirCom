{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/register.css') }}">
{% endblock %}

{% block body %}
    <div class="auth-container">
        <div class="auth-wrapper">

            <!-- Section gauche avec le formulaire -->
            <div class="auth-form-section">
                <div class="auth-form-content">

                    <h1 class="auth-title">Mot de passe oublié</h1>

                    <p class="auth-subtitle">
                        Saisissez votre adresse e-mail pour recevoir un lien de réinitialisation.
                    </p>

                    {{ form_start(requestForm, { 'attr': { 'class': 'auth-form' } }) }}

                    <!-- Champ Email -->
                    <div class="form-group">
                        <label for="{{ requestForm.email.vars.id }}" class="form-label"></label>
                        <div class="input-wrapper">
                                <span class="input-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                        <polyline points="22,6 12,13 2,6"></polyline>
                                    </svg>
                                </span>
                            {{ form_widget(requestForm.email, {
                                'attr': {
                                    'class': 'form-input',
                                    'placeholder': 'votre.email@gmail.com',
                                    'required': true,
                                    'autofocus': true
                                }
                            }) }}
                        </div>
                        {{ form_errors(requestForm.email) }}
                    </div>

                    <!-- Bouton d'envoi -->
                    <button type="submit" class="btn-submit">
                        Envoyer le lien de réinitialisation
                    </button>

                    {{ form_end(requestForm) }}

                    <!-- Messages flash d'erreur -->
                    {% for flash_error in app.flashes('error') %}
                        <div class="alert alert-danger custom-alert">
                            <small>{{ flash_error }}</small>
                        </div>
                    {% endfor %}

                    <!-- Messages flash de succès -->
                    {% for flash_success in app.flashes('success') %}
                        <div class="alert alert-success custom-alert-success">
                            <small>{{ flash_success }}</small>
                        </div>
                    {% endfor %}

                    <!-- Lien de retour à la connexion -->
                    <div class="register-link">
                        <p class="register-text">
                            Vous avez déjà un compte ?
                            <a href="{{ path('app_login') }}" class="register-link-btn">Se connecter</a>
                        </p>
                    </div>

                </div>
            </div>

            <!-- Section droite avec illustration -->
            <div class="auth-illustration">
                <img src="{{ asset('assets/images/illustration-2.png') }}" alt="Illustration">
            </div>

        </div>
    </div>
{% endblock %}
